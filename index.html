<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Frame Pause Video</title>

<style>
  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    background: black;
    overflow: hidden;
  }

  video {
    width: 100%;
    height: 100%;
    object-fit: contain;
    background: black;
  }

  .nav {
    position: fixed;
    right: 10px;
    font-size: 36px;
    color: rgba(255,255,255,0.6);
    cursor: pointer;
    user-select: none;
    padding: 10px 14px;
    z-index: 10;
    transition: opacity 0.2s;
  }

  .nav:hover {
    opacity: 1;
  }

  .nav.left {
    left: 10px;
    right: auto;
    top: 50%;
    transform: translateY(-50%);
  }

  .nav.right {
    top: 50%;
    transform: translateY(-50%);
  }

  .nav.fast {
    top: calc(50% + 60px);
    font-size: 30px;
    opacity: 0.5;
  }

  /* Loading text */
  .loading {
    position: fixed;
    bottom: 28px;
    width: 100%;
    text-align: center;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
                 Roboto, Helvetica, Arial, sans-serif;
    font-size: 22px;
    font-weight: 500;
    letter-spacing: 1px;
    color: #FFFFFF;
    opacity: 1;
    transition: opacity 0.5s ease;
    z-index: 5;
    pointer-events: none;
  }

  .loading.hidden {
    opacity: 0;
  }
</style>
</head>
<body>

<video
  id="video"
  src="video.mp4"
  preload="auto"
  playsinline
  muted
></video>

<!-- Navigation Arrows -->
<div class="nav left" id="navLeft">◀</div>
<div class="nav right" id="navRight">▶</div>
<div class="nav fast" id="navFast">▶▶</div>

<!-- Loading Text -->
<div class="loading" id="loadingText">PITCH IS LOADING</div>

<script>
const video = document.getElementById("video");

/* ==========================
   CONFIG
   ========================== */

const FPS = 30;

const pauseFrames = [
  203,
  288,
  378,
  462,
  552,
  621,
  683,
  770,
  848
];

const pauseTimes = pauseFrames.map(f => f / FPS);

let pauseIndex = 0;
let isPaused = false;

/* ==========================
   AUTO PAUSE LOGIC
   ========================== */

video.addEventListener("timeupdate", () => {
  if (isPaused) return;
  if (pauseIndex >= pauseTimes.length) return;

  if (video.currentTime >= pauseTimes[pauseIndex]) {
    video.pause();
    isPaused = true;
  }
});

/* ==========================
   NAVIGATION
   ========================== */

function nextPause() {
  if (pauseIndex >= pauseTimes.length) return;

  isPaused = false;
  pauseIndex++;
  video.play();
}

function previousPause() {
  if (pauseIndex > 0) {
    pauseIndex--;
  }
  video.pause();
  video.currentTime = pauseTimes[pauseIndex];
  isPaused = true;
}

function jumpForwardInstant() {
  if (pauseIndex < pauseTimes.length - 1) {
    pauseIndex++;
    video.pause();
    video.currentTime = pauseTimes[pauseIndex];
    isPaused = true;
  }
}

/* ==========================
   INPUT — KEYBOARD
   ========================== */

document.addEventListener("keydown", (e) => {
  switch (e.code) {
    case "ArrowRight":
    case "Space":
    case "Enter":
      e.preventDefault();
      nextPause();
      break;

    case "ArrowLeft":
      e.preventDefault();
      previousPause();
      break;
  }
});

/* ==========================
   INPUT — SCREEN CLICK
   ========================== */

document.addEventListener("click", (e) => {
  if (e.target.classList.contains("nav")) return;

  if (e.clientX < window.innerWidth / 2) {
    previousPause();
  } else {
    nextPause();
  }
});

/* ==========================
   INPUT — ARROW BUTTONS
   ========================== */

document.getElementById("navLeft").addEventListener("click", (e) => {
  e.stopPropagation();
  previousPause();
});

document.getElementById("navRight").addEventListener("click", (e) => {
  e.stopPropagation();
  nextPause();
});

document.getElementById("navFast").addEventListener("click", (e) => {
  e.stopPropagation();
  jumpForwardInstant();
});

/* ==========================
   AUTO START + LOADING TEXT
   ========================== */

video.addEventListener("loadedmetadata", () => {
  video.currentTime = 0;
  video.play();

  setTimeout(() => {
    document.getElementById("loadingText").classList.add("hidden");
  }, 3000);
});
</script>

</body>
</html>
