<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Frame Pause Video</title>

<style>
  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    background: black;
    overflow: hidden;
  }

  video {
    width: 100%;
    height: 100%;
    object-fit: contain;
    background: black;
  }
</style>
</head>
<body>

<video
  id="video"
  src="video.mp4"
  preload="auto"
  playsinline
  muted
></video>

<script>
const video = document.getElementById("video");

/* ==========================
   CONFIG
   ========================== */

const FPS = 30;

const pauseFrames = [
  203,
  288,
  378,
  462,
  552,
  621,
  683,
  770,
  848
];

const pauseTimes = pauseFrames.map(f => f / FPS);

let pauseIndex = 0;
let isPaused = false;

/* ==========================
   AUTO PAUSE LOGIC
   ========================== */

video.addEventListener("timeupdate", () => {
  if (isPaused) return;
  if (pauseIndex >= pauseTimes.length) return;

  if (video.currentTime >= pauseTimes[pauseIndex]) {
    video.pause();
    isPaused = true;
  }
});

/* ==========================
   NAVIGATION
   ========================== */

function nextPause() {
  if (pauseIndex >= pauseTimes.length) return;

  isPaused = false;
  pauseIndex++;
  video.play();
}

function previousPause() {
  if (pauseIndex > 0) {
    pauseIndex--;
  }
  video.pause();
  video.currentTime = pauseTimes[pauseIndex];
  isPaused = true;
}

/* ==========================
   INPUT — KEYBOARD
   ========================== */

document.addEventListener("keydown", (e) => {
  switch (e.code) {
    case "ArrowRight":
    case "Space":
    case "Enter":
      e.preventDefault();
      nextPause();
      break;

    case "ArrowLeft":
      e.preventDefault();
      previousPause();
      break;
  }
});

/* ==========================
   INPUT — CLICK LEFT / RIGHT
   ========================== */

document.addEventListener("click", (e) => {
  const clickX = e.clientX;
  const screenWidth = window.innerWidth;

  if (clickX < screenWidth / 2) {
    previousPause();
  } else {
    nextPause();
  }
});

/* ==========================
   AUTO START
   ========================== */

video.addEventListener("loadedmetadata", () => {
  video.currentTime = 0;
  video.play();
});
</script>

</body>
</html>
